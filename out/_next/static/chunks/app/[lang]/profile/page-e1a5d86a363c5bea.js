(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{61607:function(e,t,r){Promise.resolve().then(r.bind(r,99255))},85169:function(e,t,r){"use strict";r.d(t,{F:function(){return d},f:function(){return c}});var a=r(2265);let n=["light","dark"],l="(prefers-color-scheme: dark)",s="undefined"==typeof window,i=(0,a.createContext)(void 0),o={setTheme:e=>{},themes:[]},d=()=>{var e;return null!==(e=(0,a.useContext)(i))&&void 0!==e?e:o},c=e=>(0,a.useContext)(i)?a.createElement(a.Fragment,null,e.children):a.createElement(u,e),m=["light","dark"],u=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:s=!0,storageKey:o="theme",themes:d=m,defaultTheme:c=r?"system":"light",attribute:u="data-theme",value:v,children:b,nonce:p})=>{let[y,w]=(0,a.useState)(()=>h(o,c)),[j,k]=(0,a.useState)(()=>h(o)),N=v?Object.values(v):d,S=(0,a.useCallback)(e=>{let a=e;if(!a)return;"system"===e&&r&&(a=x());let l=v?v[a]:a,i=t?g():null,o=document.documentElement;if("class"===u?(o.classList.remove(...N),l&&o.classList.add(l)):l?o.setAttribute(u,l):o.removeAttribute(u),s){let e=n.includes(c)?c:null,t=n.includes(a)?a:e;o.style.colorScheme=t}null==i||i()},[]),E=(0,a.useCallback)(e=>{w(e);try{localStorage.setItem(o,e)}catch(e){}},[e]),_=(0,a.useCallback)(t=>{k(x(t)),"system"===y&&r&&!e&&S("system")},[y,e]);(0,a.useEffect)(()=>{let e=window.matchMedia(l);return e.addListener(_),_(e),()=>e.removeListener(_)},[_]),(0,a.useEffect)(()=>{let e=e=>{e.key===o&&E(e.newValue||c)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),(0,a.useEffect)(()=>{S(null!=e?e:y)},[e,y]);let C=(0,a.useMemo)(()=>({theme:y,setTheme:E,forcedTheme:e,resolvedTheme:"system"===y?j:y,themes:r?[...d,"system"]:d,systemTheme:r?j:void 0}),[y,E,e,j,r,d]);return a.createElement(i.Provider,{value:C},a.createElement(f,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:s,storageKey:o,themes:d,defaultTheme:c,attribute:u,value:v,children:b,attrs:N,nonce:p}),b)},f=(0,a.memo)(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:i,defaultTheme:o,value:d,attrs:c,nonce:m})=>{let u="system"===o,f="class"===r?`var d=document.documentElement,c=d.classList;c.remove(${c.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=i?n.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(e,t=!1,a=!0)=>{let l=d?d[e]:e,s=t?e+"|| ''":`'${l}'`,o="";return i&&a&&!t&&n.includes(e)&&(o+=`d.style.colorScheme = '${e}';`),"class"===r?o+=t||l?`c.add(${s})`:"null":l&&(o+=`d[s](n,${s})`),o},x=e?`!function(){${f}${g(e)}}()`:s?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${l}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${d?`var x=${JSON.stringify(d)};`:""}${g(d?"x[e]":"e",!0)}}${u?"":"else{"+g(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${d?`var x=${JSON.stringify(d)};`:""}${g(d?"x[e]":"e",!0)}}else{${g(o,!1,!1)};}${h}}catch(t){}}();`;return a.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:x}})},()=>!0),h=(e,t)=>{let r;if(!s){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},g=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},x=e=>(e||(e=window.matchMedia(l)),e.matches?"dark":"light")},99255:function(e,t,r){"use strict";r.d(t,{ProfilePage:function(){return v}});var a=r(57437),n=r(2265),l=r(16463),s=r(89172),i=r(41982),o=r(89733);let d=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});var c=r(47813),m=r(58900),u=r(92009),f=r(84573);let h=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))});var g=r(84351),x=r(88726);function v(e){let{lang:t}=e,{user:r,loading:v}=(0,i.a)(),[b,p]=(0,n.useState)(!1),[y,w]=(0,n.useState)(""),j=(0,l.useRouter)(),k=(0,s.nZ)(t);return((0,n.useEffect)(()=>{v||r||j.push("/".concat(t,"/auth/login"))},[r,v,j,t]),(0,n.useEffect)(()=>{(null==r?void 0:r.full_name)&&w(r.full_name)},[r]),v)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 dark:from-primary-950 dark:via-background dark:to-secondary-950 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"ar"===t?"جاري التحميل...":"Loading..."})]})}):r?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 dark:from-primary-950 dark:via-background dark:to-secondary-950",children:(0,a.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-primary-100 dark:bg-primary-900 mb-6",children:(0,a.jsx)(d,{className:"h-12 w-12 text-primary-600"})}),(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:k("profile.title")}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground",children:k("profile.subtitle")})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm mb-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:[k("profile.welcome"),", ",r.full_name||r.email,"!"]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"ar"===t?"يمكنك إدارة معلوماتك الشخصية وإعدادات حسابك من هنا":"You can manage your personal information and account settings here"})]})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-foreground flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 mr-2 rtl:ml-2 rtl:mr-0"}),k("profile.personal_info")]}),!b&&(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>p(!0),children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2 rtl:ml-2 rtl:mr-0"}),k("profile.edit")]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:k("profile.full_name")}),b?(0,a.jsx)("input",{type:"text",value:y,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100",placeholder:k("profile.full_name")}):(0,a.jsx)("p",{className:"text-foreground font-medium",children:r.full_name||"ar"===t?"غير محدد":"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:k("profile.email")}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground mr-2 rtl:ml-2 rtl:mr-0"}),(0,a.jsx)("p",{className:"text-foreground font-medium",children:r.email})]})]})]}),b&&(0,a.jsxs)("div",{className:"flex justify-end space-x-2 rtl:space-x-reverse mt-6",children:[(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>{w((null==r?void 0:r.full_name)||""),p(!1)},children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 mr-2 rtl:ml-2 rtl:mr-0"}),k("profile.cancel")]}),(0,a.jsxs)(o.z,{size:"sm",onClick:()=>{x.ZP.success("ar"===t?"تم حفظ التغييرات بنجاح":"Changes saved successfully"),p(!1)},children:[(0,a.jsx)(h,{className:"h-4 w-4 mr-2 rtl:ml-2 rtl:mr-0"}),k("profile.save_changes")]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-foreground mb-6 flex items-center",children:[(0,a.jsx)(d,{className:"h-5 w-5 mr-2 rtl:ml-2 rtl:mr-0"}),k("profile.account_info")]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:k("profile.role")}),(0,a.jsx)("p",{className:"text-foreground font-medium",children:(e=>{switch(e){case"admin":return k("profile.admin_role");case"super_admin":return k("profile.super_admin_role");default:return k("profile.user_role")}})(r.role)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:k("profile.member_since")}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 text-muted-foreground mr-2 rtl:ml-2 rtl:mr-0"}),(0,a.jsx)("p",{className:"text-foreground font-medium",children:new Date(r.created_at).toLocaleDateString("ar"===t?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-6",children:"ar"===t?"إجراءات سريعة":"Quick Actions"}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(o.z,{variant:"outline",className:"justify-start",children:k("profile.change_password")}),(0,a.jsx)(o.z,{variant:"outline",className:"justify-start",children:k("profile.language_preferences")}),(0,a.jsx)(o.z,{variant:"outline",className:"justify-start",children:k("profile.test_history")}),(0,a.jsx)(o.z,{variant:"outline",className:"justify-start",children:k("profile.notification_settings")})]})]})]})})}):null}},41982:function(e,t,r){"use strict";r.d(t,{Providers:function(){return h},a:function(){return i}});var a=r(57437),n=r(2265),l=r(85169);let s=(0,n.createContext)(void 0);function i(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}let o=(0,n.createContext)(void 0),d="color_testing_user",c="color_testing_users",m={email:"admin@colortest.com",password:"admin123"};function u(e){let{children:t}=e,[r,l]=(0,n.useState)(null),[i,o]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem(d);if(e)try{l(JSON.parse(e))}catch(e){console.error("Error loading user:",e)}o(!1)},[]);let u=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),f=()=>{let e=localStorage.getItem(c);return e?JSON.parse(e):[]},h=e=>{localStorage.setItem(c,JSON.stringify(e))},g=async(e,t)=>{o(!0);try{if(e===m.email&&t===m.password){let e={id:"admin-001",email:m.email,full_name:"System Administrator",role:"admin",preferred_language:"ar",created_at:new Date().toISOString()};l(e),localStorage.setItem(d,JSON.stringify(e)),o(!1);return}let r=f().find(r=>r.email===e&&r.password===t);if(r)l(r.user),localStorage.setItem(d,JSON.stringify(r.user));else throw Error("Invalid email or password")}catch(e){throw e}finally{o(!1)}},x=async(e,t,r)=>{o(!0);try{let a=f();if(a.find(t=>t.email===e))throw Error("User already exists");let n={id:u(),email:e,full_name:r,role:"user",preferred_language:"ar",created_at:new Date().toISOString()};a.push({email:e,password:t,user:n}),h(a),l(n),localStorage.setItem(d,JSON.stringify(n))}catch(e){throw e}finally{o(!1)}},v=async()=>{l(null),localStorage.removeItem(d)},b=async()=>{let e=localStorage.getItem(d);e&&l(JSON.parse(e))},p=(null==r?void 0:r.role)==="admin"||(null==r?void 0:r.role)==="super_admin";return(0,a.jsx)(s.Provider,{value:{user:r,loading:i,isAdmin:p,signIn:g,signUp:x,signOut:v,refreshUser:b},children:t})}function f(e){let{children:t,initialLanguage:r="ar"}=e,[l,s]=(0,n.useState)(r),i=e=>{s(e),document.documentElement.lang=e,document.documentElement.dir="ar"===e?"rtl":"ltr",document.body.className=document.body.className.replace(/font-(arabic|english)/g,"font-".concat("ar"===e?"arabic":"english")),localStorage.setItem("preferred-language",e)};return(0,n.useEffect)(()=>{let e=localStorage.getItem("preferred-language");e&&["ar","en"].includes(e)&&i(e)},[]),(0,a.jsx)(o.Provider,{value:{language:l,setLanguage:i,direction:"ar"===l?"rtl":"ltr"},children:t})}function h(e){let{children:t}=e;return(0,a.jsx)(l.f,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:(0,a.jsx)(u,{children:(0,a.jsx)(f,{children:t})})})}},89733:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var a=r(57437),n=r(2265),l=r(13027),s=r(49354);let i=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-white transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-gray-900",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",destructive:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",outline:"border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900 dark:border-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-50",secondary:"bg-gray-600 text-white hover:bg-gray-700 active:bg-gray-800",ghost:"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50",link:"text-primary-600 underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-700 active:bg-green-800",warning:"bg-yellow-600 text-white hover:bg-yellow-700 active:bg-yellow-800"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:o=!1,loading:d=!1,children:c,disabled:m,...u}=e;return(0,a.jsxs)("button",{className:(0,s.cn)(i({variant:n,size:l,className:r})),ref:t,disabled:m||d,...u,children:[d&&(0,a.jsx)("div",{className:"mr-2 rtl:ml-2 rtl:mr-0",children:(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"})}),c]})});o.displayName="Button"},84351:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))});t.Z=n},92009:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))});t.Z=n},58900:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});t.Z=n},47813:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))});t.Z=n},84573:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=n}},function(e){e.O(0,[868,609,772,971,23,744],function(){return e(e.s=61607)}),_N_E=e.O()}]);