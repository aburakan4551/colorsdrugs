(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{78661:function(e,t,r){Promise.resolve().then(r.bind(r,57630))},85169:function(e,t,r){"use strict";r.d(t,{F:function(){return d},f:function(){return c}});var a=r(2265);let n=["light","dark"],s="(prefers-color-scheme: dark)",l="undefined"==typeof window,o=(0,a.createContext)(void 0),i={setTheme:e=>{},themes:[]},d=()=>{var e;return null!==(e=(0,a.useContext)(o))&&void 0!==e?e:i},c=e=>(0,a.useContext)(o)?a.createElement(a.Fragment,null,e.children):a.createElement(m,e),u=["light","dark"],m=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:l=!0,storageKey:i="theme",themes:d=u,defaultTheme:c=r?"system":"light",attribute:m="data-theme",value:v,children:x,nonce:b})=>{let[p,w]=(0,a.useState)(()=>h(i,c)),[k,S]=(0,a.useState)(()=>h(i)),j=v?Object.values(v):d,N=(0,a.useCallback)(e=>{let a=e;if(!a)return;"system"===e&&r&&(a=y());let s=v?v[a]:a,o=t?f():null,i=document.documentElement;if("class"===m?(i.classList.remove(...j),s&&i.classList.add(s)):s?i.setAttribute(m,s):i.removeAttribute(m),l){let e=n.includes(c)?c:null,t=n.includes(a)?a:e;i.style.colorScheme=t}null==o||o()},[]),E=(0,a.useCallback)(e=>{w(e);try{localStorage.setItem(i,e)}catch(e){}},[e]),C=(0,a.useCallback)(t=>{S(y(t)),"system"===p&&r&&!e&&N("system")},[p,e]);(0,a.useEffect)(()=>{let e=window.matchMedia(s);return e.addListener(C),C(e),()=>e.removeListener(C)},[C]),(0,a.useEffect)(()=>{let e=e=>{e.key===i&&E(e.newValue||c)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),(0,a.useEffect)(()=>{N(null!=e?e:p)},[e,p]);let $=(0,a.useMemo)(()=>({theme:p,setTheme:E,forcedTheme:e,resolvedTheme:"system"===p?k:p,themes:r?[...d,"system"]:d,systemTheme:r?k:void 0}),[p,E,e,k,r,d]);return a.createElement(o.Provider,{value:$},a.createElement(g,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:l,storageKey:i,themes:d,defaultTheme:c,attribute:m,value:v,children:x,attrs:j,nonce:b}),x)},g=(0,a.memo)(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:l,enableColorScheme:o,defaultTheme:i,value:d,attrs:c,nonce:u})=>{let m="system"===i,g="class"===r?`var d=document.documentElement,c=d.classList;c.remove(${c.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=o?n.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(e,t=!1,a=!0)=>{let s=d?d[e]:e,l=t?e+"|| ''":`'${s}'`,i="";return o&&a&&!t&&n.includes(e)&&(i+=`d.style.colorScheme = '${e}';`),"class"===r?i+=t||s?`c.add(${l})`:"null":s&&(i+=`d[s](n,${l})`),i},y=e?`!function(){${g}${f(e)}}()`:l?`!function(){try{${g}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='${s}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${d?`var x=${JSON.stringify(d)};`:""}${f(d?"x[e]":"e",!0)}}${m?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${t}');if(e){${d?`var x=${JSON.stringify(d)};`:""}${f(d?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return a.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})},()=>!0),h=(e,t)=>{let r;if(!l){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},f=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},y=e=>(e||(e=window.matchMedia(s)),e.matches?"dark":"light")},57630:function(e,t,r){"use strict";r.d(t,{LoginPage:function(){return h}});var a=r(57437),n=r(2265),s=r(16463),l=r(87138),o=r(89172),i=r(41982),d=r(89733),c=r(47813),u=r(47193),m=r(52985),g=r(88726);function h(e){let{lang:t}=e,[r,h]=(0,n.useState)(""),[f,y]=(0,n.useState)(""),[v,x]=(0,n.useState)(!1),[b,p]=(0,n.useState)(!1),w=(0,s.useRouter)(),{signIn:k}=(0,i.a)();(0,o.nZ)(t);let S=async e=>{e.preventDefault(),p(!0);try{if(!r||!f){g.ZP.error("ar"===t?"يرجى ملء جميع الحقول":"Please fill all fields");return}await k(r,f),g.ZP.success("ar"===t?"تم تسجيل الدخول بنجاح":"Login successful"),w.push("/".concat(t))}catch(r){let e=r instanceof Error?r.message:"Login error";"Invalid email or password"===e?g.ZP.error("ar"===t?"البريد الإلكتروني أو كلمة المرور غير صحيحة":"Invalid email or password"):"User already exists"===e?g.ZP.error("ar"===t?"المستخدم موجود بالفعل":"User already exists"):g.ZP.error("ar"===t?"خطأ في تسجيل الدخول":"Login error")}finally{p(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 dark:from-primary-950 dark:via-gray-900 dark:to-secondary-950 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-100 dark:bg-primary-900 mb-4",children:(0,a.jsx)(c.Z,{className:"h-8 w-8 text-primary-600"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"ar"===t?"تسجيل الدخول":"Sign In"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"ar"===t?"أدخل بياناتك للوصول إلى حسابك":"Enter your credentials to access your account"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:S,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ar"===t?"البريد الإلكتروني":"Email Address"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100",placeholder:"ar"===t?"أدخل بريدك الإلكتروني":"Enter your email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ar"===t?"كلمة المرور":"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"password",name:"password",type:v?"text":"password",autoComplete:"current-password",required:!0,value:f,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100",placeholder:"ar"===t?"أدخل كلمة المرور":"Enter your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!v),children:v?(0,a.jsx)(u.Z,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(m.Z,{className:"h-5 w-5 text-gray-400"})})]})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(d.z,{type:"submit",className:"w-full",loading:b,disabled:b,children:b?"ar"===t?"جاري تسجيل الدخول...":"Signing in...":"ar"===t?"تسجيل الدخول":"Sign In"})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["ar"===t?"ليس لديك حساب؟":"Don't have an account?"," ",(0,a.jsx)(l.default,{href:"/".concat(t,"/auth/register"),className:"font-medium text-primary-600 hover:text-primary-500",children:"ar"===t?"إنشاء حساب جديد":"Sign up"})]})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(l.default,{href:"/".concat(t),className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"ar"===t?"العودة إلى الصفحة الرئيسية":"Back to home"})})]})]})})}},41982:function(e,t,r){"use strict";r.d(t,{Providers:function(){return h},a:function(){return o}});var a=r(57437),n=r(2265),s=r(85169);let l=(0,n.createContext)(void 0);function o(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}let i=(0,n.createContext)(void 0),d="color_testing_user",c="color_testing_users",u={email:"admin@colortest.com",password:"admin123"};function m(e){let{children:t}=e,[r,s]=(0,n.useState)(null),[o,i]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem(d);if(e)try{s(JSON.parse(e))}catch(e){console.error("Error loading user:",e)}i(!1)},[]);let m=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),g=()=>{let e=localStorage.getItem(c);return e?JSON.parse(e):[]},h=e=>{localStorage.setItem(c,JSON.stringify(e))},f=async(e,t)=>{i(!0);try{if(e===u.email&&t===u.password){let e={id:"admin-001",email:u.email,full_name:"System Administrator",role:"admin",preferred_language:"ar",created_at:new Date().toISOString()};s(e),localStorage.setItem(d,JSON.stringify(e)),i(!1);return}let r=g().find(r=>r.email===e&&r.password===t);if(r)s(r.user),localStorage.setItem(d,JSON.stringify(r.user));else throw Error("Invalid email or password")}catch(e){throw e}finally{i(!1)}},y=async(e,t,r)=>{i(!0);try{let a=g();if(a.find(t=>t.email===e))throw Error("User already exists");let n={id:m(),email:e,full_name:r,role:"user",preferred_language:"ar",created_at:new Date().toISOString()};a.push({email:e,password:t,user:n}),h(a),s(n),localStorage.setItem(d,JSON.stringify(n))}catch(e){throw e}finally{i(!1)}},v=async()=>{s(null),localStorage.removeItem(d)},x=async()=>{let e=localStorage.getItem(d);e&&s(JSON.parse(e))},b=(null==r?void 0:r.role)==="admin"||(null==r?void 0:r.role)==="super_admin";return(0,a.jsx)(l.Provider,{value:{user:r,loading:o,isAdmin:b,signIn:f,signUp:y,signOut:v,refreshUser:x},children:t})}function g(e){let{children:t,initialLanguage:r="ar"}=e,[s,l]=(0,n.useState)(r),o=e=>{l(e),document.documentElement.lang=e,document.documentElement.dir="ar"===e?"rtl":"ltr",document.body.className=document.body.className.replace(/font-(arabic|english)/g,"font-".concat("ar"===e?"arabic":"english")),localStorage.setItem("preferred-language",e)};return(0,n.useEffect)(()=>{let e=localStorage.getItem("preferred-language");e&&["ar","en"].includes(e)&&o(e)},[]),(0,a.jsx)(i.Provider,{value:{language:s,setLanguage:o,direction:"ar"===s?"rtl":"ltr"},children:t})}function h(e){let{children:t}=e;return(0,a.jsx)(s.f,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:(0,a.jsx)(m,{children:(0,a.jsx)(g,{children:t})})})}},89733:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var a=r(57437),n=r(2265),s=r(13027),l=r(49354);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-white transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-gray-900",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",destructive:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",outline:"border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900 dark:border-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-50",secondary:"bg-gray-600 text-white hover:bg-gray-700 active:bg-gray-800",ghost:"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50",link:"text-primary-600 underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-700 active:bg-green-800",warning:"bg-yellow-600 text-white hover:bg-yellow-700 active:bg-yellow-800"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:i=!1,loading:d=!1,children:c,disabled:u,...m}=e;return(0,a.jsxs)("button",{className:(0,l.cn)(o({variant:n,size:s,className:r})),ref:t,disabled:u||d,...m,children:[d&&(0,a.jsx)("div",{className:"mr-2 rtl:ml-2 rtl:mr-0",children:(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"})}),c]})});i.displayName="Button"},52985:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});t.Z=n},47193:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))});t.Z=n},47813:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...s}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))});t.Z=n}},function(e){e.O(0,[868,609,138,772,971,23,744],function(){return e(e.s=78661)}),_N_E=e.O()}]);