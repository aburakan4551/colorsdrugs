"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[673],{89733:function(t,e,r){r.d(e,{z:function(){return c}});var s=r(57437),a=r(2265),o=r(13027),n=r(49354);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-white transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-gray-900",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",destructive:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",outline:"border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900 dark:border-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-gray-50",secondary:"bg-gray-600 text-white hover:bg-gray-700 active:bg-gray-800",ghost:"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50",link:"text-primary-600 underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-700 active:bg-green-800",warning:"bg-yellow-600 text-white hover:bg-yellow-700 active:bg-yellow-800"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((t,e)=>{let{className:r,variant:a,size:o,asChild:c=!1,loading:l=!1,children:g,disabled:u,...d}=t;return(0,s.jsxs)("button",{className:(0,n.cn)(i({variant:a,size:o,className:r})),ref:e,disabled:u||l,...d,children:[l&&(0,s.jsx)("div",{className:"mr-2 rtl:ml-2 rtl:mr-0",children:(0,s.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"})}),g]})});c.displayName="Button"},36836:function(t,e,r){r.d(e,{T:function(){return o}});var s=r(57437),a=r(49354);function o(t){let{size:e="md",color:r="text-primary-600",className:o}=t;return(0,s.jsx)("div",{className:(0,a.cn)("flex items-center justify-center",o),children:(0,s.jsx)("div",{className:(0,a.cn)("animate-spin rounded-full border-2 border-muted border-t-current",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e],r)})})}},53429:function(t,e,r){r.d(e,{D:function(){return o}});var s=r(74458);let a={TEST_RESULTS:"color_testing_results",TEST_SESSIONS:"color_testing_sessions",USER_PREFERENCES:"color_testing_preferences",ADMIN_DATA:"color_testing_admin_data"};class o{static async getChemicalTests(){try{return await s.kS.getAll()}catch(t){return console.error("Error fetching chemical tests:",t),[]}}static async getChemicalTestById(t){try{return await s.kS.getById(t)}catch(t){return console.error("Error fetching chemical test by ID:",t),null}}static async getChemicalTestsByCategory(t){try{return await s.kS.getByCategory(t)}catch(t){return console.error("Error fetching chemical tests by category:",t),[]}}static async getColorResults(){try{return await s.KK.getAll()}catch(t){return console.error("Error fetching color results:",t),[]}}static async getColorResultsByTestId(t){try{return await s.KK.getByTestId(t)}catch(t){return console.error("Error fetching color results by test ID:",t),[]}}static async getColorResultById(t){try{return await s.KK.getById(t)}catch(t){return console.error("Error fetching color result by ID:",t),null}}static async getTestInstructions(){try{return await s.M3.getAll()}catch(t){return console.error("Error fetching test instructions:",t),[]}}static async getTestInstructionsByTestId(t){try{return await s.M3.getByTestId(t)}catch(t){return console.error("Error fetching test instructions by test ID:",t),[]}}static generateId(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}static saveToLocalStorage(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error("Error saving to localStorage:",t)}}static getFromLocalStorage(t){try{let e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(t){return console.error("Error reading from localStorage:",t),null}}static createTestSession(t){let e={id:this.generateId(),test_id:t,status:"started",started_at:new Date().toISOString(),results:[]},r=this.getTestSessions();return r.push(e),this.saveToLocalStorage(a.TEST_SESSIONS,r),e}static getTestSessions(){return this.getFromLocalStorage(a.TEST_SESSIONS)||[]}static getTestSessionById(t){return this.getTestSessions().find(e=>e.id===t)||null}static updateTestSession(t,e){let r=this.getTestSessions(),s=r.findIndex(e=>e.id===t);return -1===s?null:(r[s]={...r[s],...e},this.saveToLocalStorage(a.TEST_SESSIONS,r),r[s])}static completeTestSession(t,e,r,s){let o=this.getTestSessionById(t);if(!o)return null;let n={id:this.generateId(),test_id:o.test_id,color_result_id:e,confidence_score:r,notes:s,timestamp:new Date().toISOString(),session_id:t};this.updateTestSession(t,{status:"completed",completed_at:new Date().toISOString(),results:[...o.results,n]});let i=this.getTestResults();return i.push(n),this.saveToLocalStorage(a.TEST_RESULTS,i),n}static getTestResults(){return this.getFromLocalStorage(a.TEST_RESULTS)||[]}static getTestResultsByTestId(t){return this.getTestResults().filter(e=>e.test_id===t)}static deleteTestResult(t){let e=this.getTestResults(),r=e.filter(e=>e.id!==t);return r.length!==e.length&&(this.saveToLocalStorage(a.TEST_RESULTS,r),!0)}static getUserPreferences(){return this.getFromLocalStorage(a.USER_PREFERENCES)||{language:"ar",theme:"light",notifications:!0,autoSave:!0}}static saveUserPreferences(t){this.saveToLocalStorage(a.USER_PREFERENCES,t)}static getAdminData(){return this.getFromLocalStorage(a.ADMIN_DATA)||{customTests:[],customColorResults:[],customInstructions:[],settings:{}}}static saveAdminData(t){this.saveToLocalStorage(a.ADMIN_DATA,t)}static async getResultsByConfidence(t){let e={};for(let r of t)try{let t=await this.getColorResultById(r.color_result_id);t&&(e[t.confidence_level]=(e[t.confidence_level]||0)+1)}catch(t){console.error("Error fetching color result:",t)}return e}static async getStatistics(){let t=this.getTestResults(),e=this.getTestSessions(),r=await this.getChemicalTests();return{total_tests:r.length,total_results:t.length,total_sessions:e.length,completed_sessions:e.filter(t=>"completed"===t.status).length,tests_by_category:r.reduce((t,e)=>(t[e.category]=(t[e.category]||0)+1,t),{}),results_by_confidence:await this.getResultsByConfidence(t),recent_activity:t.sort((t,e)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()).slice(0,10)}}static async searchTests(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ar",r=await this.getChemicalTests(),s=t.toLowerCase();return r.filter(t=>{let r="ar"===e?t.method_name_ar:t.method_name,a="ar"===e?t.description_ar:t.description;return r.toLowerCase().includes(s)||a.toLowerCase().includes(s)||t.category.toLowerCase().includes(s)})}static exportData(){return JSON.stringify({results:this.getTestResults(),sessions:this.getTestSessions(),preferences:this.getUserPreferences(),adminData:this.getAdminData(),exportDate:new Date().toISOString(),version:"2.0.0"},null,2)}static importData(t){try{let e=JSON.parse(t);return e.results&&this.saveToLocalStorage(a.TEST_RESULTS,e.results),e.sessions&&this.saveToLocalStorage(a.TEST_SESSIONS,e.sessions),e.preferences&&this.saveToLocalStorage(a.USER_PREFERENCES,e.preferences),e.adminData&&this.saveToLocalStorage(a.ADMIN_DATA,e.adminData),!0}catch(t){return console.error("Error importing data:",t),!1}}static clearAllData(){Object.values(a).forEach(t=>{localStorage.removeItem(t)})}static createBackup(){return this.exportData()}static restoreFromBackup(t){return this.importData(t)}}},74458:function(t,e,r){r.d(e,{kS:function(){return y},KK:function(){return T},HR:function(){return h},M3:function(){return f}});var s=r(69842),a=r(15236),o=r(75735);let n=null,i=null;n=0===(0,a.C6)().length?(0,a.ZF)({apiKey:"AIzaSyBCTEmastiOgvmTDu1EHxA0bkDAws00bIU",authDomain:"colorstests-573ef.firebaseapp.com",databaseURL:"https://colorstests-573ef-default-rtdb.firebaseio.com",projectId:"colorstests-573ef",storageBucket:"colorstests-573ef.firebasestorage.app",messagingSenderId:"94361461929",appId:"1:94361461929:web:b34ad287c782710415f5b8"}):(0,a.Mq)(),(0,o.v0)(n),i=(0,s.ad)(n);let c={COLOR_TESTS:"colorTests",COLOR_RESULTS:"colorResults",CHEMICAL_TESTS:"chemicalTests",TEST_INSTRUCTIONS:"testInstructions"};async function l(t){try{return(await (0,s.PL)((0,s.hJ)(i,t))).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error fetching documents from ".concat(t,":"),e),e}}async function g(t,e){try{let r=(0,s.JU)(i,t,e),a=await (0,s.QT)(r);if(a.exists())return{id:a.id,...a.data()};return null}catch(r){throw console.error("Error fetching document ".concat(e," from ").concat(t,":"),r),r}}async function u(t,e){try{return(await (0,s.ET)((0,s.hJ)(i,t),e)).id}catch(e){throw console.error("Error adding document to ".concat(t,":"),e),e}}async function d(t,e,r){try{let a=(0,s.JU)(i,t,e);await (0,s.r7)(a,r)}catch(r){throw console.error("Error updating document ".concat(e," in ").concat(t,":"),r),r}}async function S(t,e){try{let r=(0,s.JU)(i,t,e);await (0,s.oe)(r)}catch(r){throw console.error("Error deleting document ".concat(e," from ").concat(t,":"),r),r}}let h={getAll:()=>l(c.COLOR_TESTS),getById:t=>g(c.COLOR_TESTS,t),add:t=>u(c.COLOR_TESTS,t),update:(t,e)=>d(c.COLOR_TESTS,t,e),delete:t=>S(c.COLOR_TESTS,t)},T={getAll:()=>l(c.COLOR_RESULTS),getById:t=>g(c.COLOR_RESULTS,t),getByTestId:async t=>{try{let e=(0,s.IO)((0,s.hJ)(i,c.COLOR_RESULTS),(0,s.ar)("test_id","==",t));return(await (0,s.PL)(e)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error fetching color results for test ".concat(t,":"),e),e}},add:t=>u(c.COLOR_RESULTS,t),update:(t,e)=>d(c.COLOR_RESULTS,t,e),delete:t=>S(c.COLOR_RESULTS,t)},y={getAll:()=>l(c.CHEMICAL_TESTS),getById:t=>g(c.CHEMICAL_TESTS,t),getByCategory:async t=>{try{let e=(0,s.IO)((0,s.hJ)(i,c.CHEMICAL_TESTS),(0,s.ar)("category","==",t));return(await (0,s.PL)(e)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error fetching chemical tests for category ".concat(t,":"),e),e}},add:t=>u(c.CHEMICAL_TESTS,t),update:(t,e)=>d(c.CHEMICAL_TESTS,t,e),delete:t=>S(c.CHEMICAL_TESTS,t)},f={getAll:()=>l(c.TEST_INSTRUCTIONS),getById:t=>g(c.TEST_INSTRUCTIONS,t),getByTestId:async t=>{try{let e=(0,s.IO)((0,s.hJ)(i,c.TEST_INSTRUCTIONS),(0,s.ar)("test_id","==",t),(0,s.Xo)("step_number","asc"));return(await (0,s.PL)(e)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error fetching test instructions for test ".concat(t,":"),e),e}},add:t=>u(c.TEST_INSTRUCTIONS,t),update:(t,e)=>d(c.TEST_INSTRUCTIONS,t,e),delete:t=>S(c.TEST_INSTRUCTIONS,t)}}}]);